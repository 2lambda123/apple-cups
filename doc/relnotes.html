---
title: Release Notes
layout: sub
---

<h1 class="title">Release Notes</h1>

<h2 class="title"><a name="020200">CUPS 2.2.0</a> <em>(September 13, 2016)</em></h2>

<ul>
	<li>Normalized the TLS certificate validation code and added additional error messages to aid troubleshooting.</li>
	<li>http*Connect did not work on Linux when cupsd was not running (Issue #4870)</li>
	<li>The --no-remote-any option of cupsctl had no effect (Issue #4866)</li>
	<li>http*Connect did not return early when all addresses failed (Issue #4870)</li>
</ul>


<h2 class="title"><a name="0202rc1">CUPS 2.2rc1</a> <em>(August 8, 2016)</em></h2>

<ul>

	<li>Updated the list of supported IPP Everywhere media types.</li>
	<li>The IPP backend did not validate TLS credentials properly.</li>
	<li>The printer-state-message attribute was not cleared after a print job with no errors (Issue #4851)</li>
	<li>The CUPS-Add-Modify-Class and CUPS-Add-Modify-Printer operations did not always return an error for failed adds (Issue #4854)</li>
	<li>PPD files with names longer than 127 bytes did not work (Issue #4860)</li>
	<li>Updated localizations (Issue #4846, PR #4858)</li>

</ul>


<h2 class="title"><a name="0202b2">CUPS 2.2b2</a> <em>(June 24, 2016)</em></h2>

<ul>

	<li>Added Upstart support (PR #4825)</li>
	<li>CUPS now supports Let's Encrypt certificates on Linux.</li>

</ul>


<h2 class="title"><a name="0202b1">CUPS 2.2b1</a> <em>(June 14, 2016)</em></h2>

<ul>

	<li>All CUPS commands now support POSIX options (Issue #4813)</li>
	<li>The scheduler now restarts faster (Issue #4760)</li>
	<li>Improved performance of web interface with large numbers of jobs (Issue #3819)</li>
	<li>Encrypted printing can now be limited to only trusted printers and servers (&lt;rdar://problem/25711658&gt;)</li>
	<li>The scheduler now advertises PWG Raster attributes for IPP Everywhere clients (Issue #4428)</li>
	<li>The scheduler now logs informational messages for jobs at LogLevel "info" (Issue #4815)</li>
	<li>The scheduler now uses the getgrouplist function when available (Issue #4611)</li>
	<li>The IPP backend no longer enables compression by default except for certain raster formats that generally benefit from it (&lt;rdar://problem/25166952&gt;)</li>
	<li>The scheduler did not handle out-of-disk situations gracefully (Issue #4742)</li>
	<li>The LPD mini-daemon now detects invalid UTF-8 sequences in job, document, and user names (Issue #4748)</li>
	<li>The IPP backend now continues on to the next job when the remote server/printer puts the job on hold (&lt;rdar://problem/24858548&gt;)</li>
	<li>The scheduler did not cancel multi-document jobs immediately (&lt;rdar://problem/24854834&gt;)</li>
	<li>The scheduler did not return non-shared printers to local clients unless they connected to the domain socket</li> (&lt;rdar://problem/24566996&gt;)
	<li>The scheduler now reads the spool directory if one or more job cache entries point to deleted jobs (&lt;rdar://problem/24048846&gt;)</li>
	<li>Added support for disc media sizes (&lt;rdar://problem/20219536&gt;)</li>
	<li>The httpAddrConnect and httpConnect* APIs now try connecting to multiple addresses in parallel (&lt;rdar://problem/20643153&gt;)</li>
	<li>The cupsd domain socket is no longer world-accessible on macOS (&lt;rdar://problem/7542560&gt;)</li>
	<li>Interface scripts are no longer supported for security reasons (&lt;rdar://problem/23135640&gt;)</li>
	<li>Added a new cupsHashData API and support for hashed job passwords (&lt;rdar://problem/20221502&gt;)</li>
	<li>Localization fixes (&lt;rdar://problem/25292403>, &lt;rdar://problem/25461517>, Issue #4041, Issue #4796)</li>
	<li>Documentation changes (Issue #4624, Issue #4781)</li>
	<li>Packaging fixes (PR #4832)</li>

</ul>


<h2 class="title"><a name="020104">CUPS 2.1.4</a> <em>(June 14, 2016)</em></h2>

<ul>
	<li>Fixed reporting of 1284 Device IDs (Issue #3835, PR #3836)</li>
	<li>Fixed printing of multiple files to raw queues (Issue #4782)</li>
	<li>The scheduler did not implement the Hold-New-Jobs operation correctly (Issue #4767)</li>
	<li>The ipptool program truncated values at 8k (Issue #4786)</li>
	<li>The ipptool program did not correctly report uriScheme values in plist output (Issue #4785)</li>
	<li>The cups-lpd mini-daemon incorrectly included the document-name attribute when creating a job.  It should only be included when sending a job (Issue #4790)</li>
	<li>USB quirk updates (Issue #4778, Issue #4789)</li>
	<li>Documentation update (Issue #4772)</li>
</ul>


<h2 class="title"><a name="020103">CUPS 2.1.3</a> <em>(February 5, 2016)</em></h2>

<ul>
	<li>The default password function did not work on some platforms (<a href="https://github.com/apple/cups/issues/4750">Issue #4750</a>)</li>
	<li>The scheduler should not exit under memory pressure (&lt;rdar://problem/23255001&gt;)</li>
	<li>The EPL2 and ZPL sample drivers did not properly support the CutMedia option.</li>
	<li>Pending subscriptions would prevent the scheduler from idle exiting (<a href="https://github.com/apple/cups/issues/4754">Issue #4754</a>)</li>
	<li>Fixed some issues in ipptool for skipped tests (&lt;rdar://problem/24137160&gt;)</li>
	<li>The &quot;lp -H resume&quot; command did not reset the &quot;job-state-reasons&quot; attribute value (<a href="https://github.com/apple/cups/issues/4752">Issue #4752</a>)</li>
	<li>The scheduler did not allow access to resource files (icons, etc.) when the web interface was disabled (<a href="https://github.com/apple/cups/issues/4755">Issue #4755</a>)</li>
	<li>Localization fix (<a href="https://github.com/apple/cups/issues/4756">Issue #4756</a>)</li>
</ul>


<h2 class="title"><a name="020102">CUPS 2.1.2</a> <em>(December 2, 2015)</em></h2>

<ul>
	<li>Re-release of CUPS 2.1.1 as CUPS 2.1.2 due to error in tagging of the 2.1.1 release (pulled content from the 2.2.x tree instead)</li>
</ul>


<h2 class="title"><a name="020101">CUPS 2.1.1 WITHDRAWN</a> <em>(November 30, 2015)</em></h2>

<ul>
	<li>Security hardening fixes (&lt;rdar://problem/23131948&gt;, &lt;rdar://problem/23132108&gt;, &lt;rdar://problem/23132353&gt;, &lt;rdar://problem/23132803&gt;, &lt;rdar://problem/23133230&gt;, &lt;rdar://problem/23133393&gt;, &lt;rdar://problem/23133466&gt;, &lt;rdar://problem/23133833&gt;, &lt;rdar://problem/23133998&gt;, &lt;rdar://problem/23134228&gt;, &lt;rdar://problem/23134299&gt;, &lt;rdar://problem/23134356&gt;, &lt;rdar://problem/23134415&gt;, &lt;rdar://problem/23134506&gt;, &lt;rdar://problem/23135066&gt;, &lt;rdar://problem/23135122&gt;, &lt;rdar://problem/23135207&gt;, &lt;rdar://problem/23144290&gt;, &lt;rdar://problem/23144358&gt;, &lt;rdar://problem/23144461&gt;)</li>
	<li>The cupsGetPPD* functions did not work with IPP printers (<a href="https://github.com/apple/cups/issues/4725">Issue #4725</a>)</li>
	<li>Some older HP LaserJet printers need a delayed close when printing using the libusb-based USB backend (<a href="https://github.com/apple/cups/issues/4549">Issue #4549</a>)</li>
	<li>The libusb-based USB backend did not unload the kernel usblp module if it was preventing the backend from accessing the printer (<a href="https://github.com/apple/cups/issues/4707">Issue #4707</a>)</li>
	<li>Current Primera printers were incorrectly reported as Fargo printers (<a href="https://github.com/apple/cups/issues/4708">Issue #4708</a>)</li>
	<li>The IPP backend did not always handle jobs getting canceled at the printer (&lt;rdar://problem/22716820&gt;)</li>
	<li>Scheduler logging change (<a href="https://github.com/apple/cups/issues/4728">Issue #4728</a>)</li>
	<li>Added USB quirk for Canon MP530 (<a href="https://github.com/apple/cups/issues/4730">Issue #4730</a>)</li>
	<li>The scheduler did not deliver job notifications for jobs submitted to classes (<a href="https://github.com/apple/cups/issues/4733">Issue #4733</a>)</li>
	<li>Changing the printer-is-shared value for a remote queue did not produce an error (<a href="https://github.com/apple/cups/issues/4738">Issue #4738</a>)</li>
	<li>The IPP backend incorrectly included the job-password attribute in Validate-Job requests (&lt;rdar://problem/23531939&gt;)</li>
	<li>Updated localizations (<a href="https://github.com/apple/cups/issues/4709">Issue #4709</a>)</li>
</ul>


<h2 class="title"><a name="020100">CUPS 2.1.0</a> <em>(August 31, 2015)</em></h2>

<ul>
	<li>Fixed more scheduler crash bugs in the new logging code (<a href="https://github.com/apple/cups/issues/4687">Issue #4687</a>, <a href="https://github.com/apple/cups/issues/4690">Issue #4690</a>)</li>
	<li>The scheduler did not use the ConfigFilePerm setting when copying PPD files or interface scripts attached to a request (<a href="https://github.com/apple/cups/issues/4703">Issue #4703</a>)</li>
	<li>Now support new Chinese locale IDs and their correct fallback locales (&lt;rdar://problem/22086642&gt;, &lt;rdar://problem/22130168&gt;)</li>
	<li>&quot;make check&quot; incorrectly reported an expectation of 18 warning messages when 8 were expected (<a href="https://github.com/apple/cups/issues/4684">Issue #4684</a>)</li>
	<li>The new PDF file type rule did not work (<a href="https://github.com/apple/cups/issues/4692">Issue #4692</a>)</li>
	<li>The scheduler did not update the jobs.cache file when job files were expired (<a href="https://github.com/apple/cups/issues/4706">Issue #4706</a>)</li>
	<li>Fixed some configure script issues (<a href="https://github.com/apple/cups/issues/4694">Issue #4694</a>, <a href="https://github.com/apple/cups/issues/4695">Issue #4695</a>, <a href="https://github.com/apple/cups/issues/4698">Issue #4698</a>)</li>
	<li>Documentation updates (<a href="https://github.com/apple/cups/issues/4691">Issue #4691</a>, <a href="https://github.com/apple/cups/issues/4693">Issue #4693</a>)</li>
</ul>


<h2 class="title"><a name="0201rc1">CUPS 2.1rc1</a> <em>(July 31, 2015)</em></h2>

<ul>
	<li>Added support for 3D printers (basic types only, no built-in filters) based on PWG white paper.</li>
	<li>Fixed bugs in the new journald support (<a href="https://github.com/apple/cups/issues/4655">Issue #4655</a>, <a href="https://github.com/apple/cups/issues/4658">Issue #4658</a>, <a href="https://github.com/apple/cups/issues/4661">Issue #4661</a>)</li>
	<li>Fixed domain socket support on Linux (<a href="https://github.com/apple/cups/issues/4679">Issue #4679</a>)</li>
	<li>Fixed signal handlers in the dnssd and usb backends (<a href="https://github.com/apple/cups/issues/4671">Issue #4671</a>)</li>
	<li>&lt;Limit All&gt; in &lt;Policy&gt; sections now applies to all operations when used by itself (<a href="https://github.com/apple/cups/issues/4659">Issue #4659</a>)</li>
	<li>Configure script changes for systemd support (<a href="https://github.com/apple/cups/issues/4669">Issue #4669</a>)</li>
	<li>Updated autoconf sources to use newer form of AC_INIT (<a href="https://github.com/apple/cups/issues/4664">Issue #4664</a>)</li>
</ul>


<h2 class="title"><a name="0201b1">CUPS 2.1b1</a> <em>(June 8, 2015)</em></h2>

<ul>
	<li>Improved speed of ppdMarkDefaults for complex/large PPDs (&lt;rdar://problem/15146999&gt;)</li>
	<li>The IPP backend now stops sending print data if the printer indicates the job has been aborted or canceled (&lt;rdar://problem/17837631&gt;)</li>
	<li>The IPP backend now sends the job-pages-per-set attribute when printing multiple copy jobs with finishings (&lt;rdar://problem/16792757&gt;)</li>
	<li>The IPP backend now updates the cupsMandatory values when the printer configuration changes (&lt;rdar://problem/18126570&gt;)</li>
	<li>No longer install banner files since third-party banner filters now supply their own (<a href="https://github.com/apple/cups/issues/4518">Issue #4518</a>)</li>
	<li>Added support for EXPECT-ALL directive in ipptool test files (<a href="https://github.com/apple/cups/issues/4469">Issue #4469</a>)</li>
	<li>Added support for WITH-VALUE-FROM predicate in ipptool test files (<a href="https://github.com/apple/cups/issues/4470">Issue #4470</a>)</li>
	<li>The scheduler no longer listens on the loopback interface unless the web interface or printer sharing are enabled (&lt;rdar://problem/9136448&gt;)</li>
	<li>Added a PPD generator for IPP Everywhere printers (<a href="https://github.com/apple/cups/issues/4258">Issue #4258</a>)</li>
	<li>Now install &quot;default&quot; versions of more configuration files (&lt;rdar://problem/19024491&gt;)</li>
	<li>The cupstestppd program did not handle &quot;maxsize(nnn)&quot; entries in cupsFilter/cupsFilter2 values (&lt;rdar://problem/18974858&gt;)</li>
	<li>The scheduler now checks the return value of rename() calls (<a href="https://github.com/apple/cups/issues/4589">Issue #4589</a>)</li>
	<li>The scheduler now validates ErrorPolicy values in config files (<a href="https://github.com/apple/cups/issues/4591">Issue #4591</a>)</li>
	<li>Long cookies caused the web interface to stop working (<a href="https://github.com/apple/cups/issues/4619">Issue #4619</a>)</li>
	<li>Added SSLOptions values to allow Diffie-Hellman key exchange and disable TLS/1.0 support.</li>
	<li>Updated the scheduler to support more IPP Everywhere attributes (<a href="https://github.com/apple/cups/issues/4630">Issue #4630</a>)</li>
	<li>The scheduler now supports advanced ASL and journald logging when &quot;syslog&quot; output is configured (<a href="https://github.com/apple/cups/issues/4474">Issue #4474</a>)</li>
	<li>The scheduler now supports logging to stderr when running in the foreground (<a href="https://github.com/apple/cups/issues/4505">Issue #4505</a>)</li>
</ul>
