<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<HTML>
<HEAD>
<TITLE>CUPS Translation Guide</TITLE>
<META NAME="author" CONTENT="Easy Software Products">
<META NAME="copyright" CONTENT="Copyright 2001-2002, All Rights Reserved">
<META NAME="docnumber" CONTENT="CUPS-TRANS-1.1">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=iso-8859-1">
<STYLE TYPE="text/css"><!--
BODY { font-family: serif }
H1 { font-family: sans-serif }
H2 { font-family: sans-serif }
H3 { font-family: sans-serif }
H4 { font-family: sans-serif }
H5 { font-family: sans-serif }
H6 { font-family: sans-serif }
SUB { font-size: smaller }
SUP { font-size: smaller }
PRE { font-family: monospace }
--></STYLE>
</HEAD>
<BODY>
<CENTER><A HREF="#CONTENTS"><IMG SRC="images/cups-large.gif" BORDER="0" WIDTH="431" HEIGHT="511"><BR>
<H1>CUPS Translation Guide</H1></A><BR>
CUPS-TRANS-1.1<BR>
Easy Software Products<BR>
Copyright 2001-2002, All Rights Reserved<BR>
</CENTER>
<HR>
<H1 ALIGN="CENTER"><A NAME="CONTENTS">Table of Contents</A></H1>
<BR>
<BR><B><A HREF="#1">1 Scope</A></B>
<UL>
<LI><A HREF="#1_1">1.1 Identification</A></LI>
<LI><A HREF="#1_2">1.2 System Overview</A></LI>
<LI><A HREF="#1_3">1.3 Document Overview</A></LI>
</UL>
<B><A HREF="#2">2 References</A></B>
<UL>
<LI><A HREF="#2_1">2.1 CUPS Documentation</A></LI>
<LI><A HREF="#2_2">2.2 Other Documents</A></LI>
</UL>
<B><A HREF="#3">3 Character Sets</A></B>
<BR>
<BR><B><A HREF="#4">4 Message Catalogs</A></B>
<BR>
<BR><B><A HREF="#5">5 Web Interfaces</A></B>
<UL>
<LI><A HREF="#5_1">5.1 Template Files</A></LI>
<UL>
<LI><A HREF="#5_1_1">5.1.1 What Are Templates?</A></LI>
<LI><A HREF="#5_1_2">5.1.2 How Do I Use a Template?</A></LI>
<LI><A HREF="#5_1_3">5.1.3 void cgiCopyTemplateFile(FILE *out, const
 char *filename)</A></LI>
<LI><A HREF="#5_1_4">5.1.4 Special Characters</A></LI>
<LI><A HREF="#5_1_5">5.1.5 Variable Substititions</A></LI>
<LI><A HREF="#5_1_6">5.1.6 Array Substitutions</A></LI>
<LI><A HREF="#5_1_7">5.1.7 Tests</A></LI>
<LI><A HREF="#5_1_8">5.1.8 Template Files</A></LI>
</UL>
</UL>
<B><A HREF="#6">A Glossary</A></B>
<UL>
<LI><A HREF="#6_1">A.1 Terms</A></LI>
<LI><A HREF="#6_2">A.2 Acronyms</A></LI>
</UL>
<HR>
<H1><A NAME="1">1 Scope</A></H1>
<H2><A NAME="1_1">1.1 Identification</A></H2>
<P>This translation guide provides instructions for creating
 translations of the CUPS message catalogs and web pages for the Common
 UNIX Printing System (&quot;CUPS&quot;) Version 1.1 software.</P>
<H2><A NAME="1_2">1.2 System Overview</A></H2>
<P>CUPS provides a portable printing layer for UNIX&reg;-based operating
 systems. It has been developed by<A HREF="http://www.easysw.com"> Easy
 Software Products</A> to promote a standard printing solution for all
 UNIX vendors and users. CUPS provides the System V and Berkeley
 command-line interfaces.</P>
<P>CUPS uses the Internet Printing Protocol (&quot;IPP&quot;) as the basis for
 managing print jobs and queues. The Line Printer Daemon (&quot;LPD&quot;) Server
 Message Block (&quot;SMB&quot;), and AppSocket (a.k.a. JetDirect) protocols are
 also supported with reduced functionality. CUPS adds network printer
 browsing and PostScript Printer Description (&quot;PPD&quot;) based printing
 options to support real-world printing under UNIX.</P>
<P>CUPS also includes a customized version of GNU Ghostscript (currently
 based off GNU Ghostscript 5.50) and an image file RIP that are used to
 support non-PostScript printers. Sample drivers for HP and EPSON
 printers are included that use these filters.</P>
<H2><A NAME="1_3">1.3 Document Overview</A></H2>
<P>This translation guide is organized into the following sections:</P>
<UL>
<LI>1 - Scope</LI>
<LI>2 - References</LI>
<LI>3 - Character Sets</LI>
<LI>4 - Message Catalogs</LI>
<LI>5 - Web Interfaces</LI>
<LI>A - Glossary</LI>
</UL>
<H1><A NAME="2">2 References</A></H1>
<H2><A NAME="2_1">2.1 CUPS Documentation</A></H2>
<P>The following CUPS documentation is referenced by this document:</P>
<UL>
<LI>CUPS-CMP-1.1: CUPS Configuration Management Plan</LI>
<LI>CUPS-IDD-1.1: CUPS System Interface Design Description</LI>
<LI>CUPS-IPP-1.1: CUPS Implementation of IPP</LI>
<LI>CUPS-SAM-1.1.x: CUPS Software Administrators Manual</LI>
<LI>CUPS-SDD-1.1: CUPS Software Design Description</LI>
<LI>CUPS-SPM-1.1.x: CUPS Software Programming Manual</LI>
<LI>CUPS-SSR-1.1: CUPS Software Security Report</LI>
<LI>CUPS-STP-1.1: CUPS Software Test Plan</LI>
<LI>CUPS-SUM-1.1.x: CUPS Software Users Manual</LI>
<LI>CUPS-SVD-1.1: CUPS Software Version Description</LI>
</UL>
<H2><A NAME="2_2">2.2 Other Documents</A></H2>
<P>The following non-CUPS documents are referenced by this document:</P>
<UL>
<LI><A HREF="http://partners.adobe.com/asn/developer/PDFS/TN/5003.PPD_Spec_v4.3.pdf">
Adobe PostScript Printer Description File Format Specification, Version
 4.3.</A></LI>
<LI><A HREF="http://partners.adobe.com/asn/developer/PDFS/TN/PLRM.pdf">
Adobe PostScript Language Reference, Third Edition.</A></LI>
<LI>IPP: Job and Printer Set Operations</LI>
<LI>IPP/1.1: Encoding and Transport</LI>
<LI>IPP/1.1: Implementers Guide</LI>
<LI>IPP/1.1: Model and Semantics</LI>
<LI><A HREF="http://www.ietf.org/rfc/rfc1179.txt">RFC 1179, Line Printer
 Daemon Protocol</A></LI>
<LI><A HREF="http://www.ietf.org/rfc/rfc2567.txt">RFC 2567, Design Goals
 for an Internet Printing Protocol</A></LI>
<LI><A HREF="http://www.ietf.org/rfc/rfc2568.txt">RFC 2568, Rationale
 for the Structure of the Model and Protocol</A> for the Internet
 Printing Protocol</LI>
<LI><A HREF="http://www.ietf.org/rfc/rfc2569.txt">RFC 2569, Mapping
 between LPD and IPP Protocols</A></LI>
<LI><A HREF="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616, Hypertext
 Transfer Protocol -- HTTP/1.1</A></LI>
<LI><A HREF="http://www.ietf.org/rfc/rfc2617.txt">RFC 2617, HTTP
 Authentication: Basic and Digest Access</A> Authentication</LI>
</UL>
<H1><A NAME="3">3 Character Sets</A></H1>
<P>CUPS uses character set files to define the mapping of local
 character sets to Unicode code points, as well as the fonts that should
 be used for different ranges of characters.</P>
<H1><A NAME="4">4 Message Catalogs</A></H1>
<H1><A NAME="5">5 Web Interfaces</A></H1>
<P>The CUPS scheduler provides a web interface that can be used to do
 many common printing and administration tasks. The built-in web server
 supports localization of web pages through the use of subdirectories
 for each locale, e.g. &quot;fr&quot; for French, &quot;de&quot; for German, &quot;fr_ca&quot; for
 French in Canada, and so forth.</P>
<H2><A NAME="5_1">5.1 Template Files</A></H2>
<P>The CUPS CGI programs (<CODE>admin.cgi</CODE>, <CODE>classes.cgi</CODE>
, <CODE>jobs.cgi</CODE>, and <CODE>printers.cgi</CODE>) are responsible
 for providing dynamic content for the web interface. To facilitate this
 process, a series of HTML template files are used that build the final
 output page. Template files are installed in the<VAR>
 /usr/share/cups/templates</VAR> directory by default.</P>
<P>Translated versions of the template files should be installed in the
 appropriate subdirectories under<VAR> /usr/share/cups/templates</VAR>.
 Template files consist of HTML with variable substitutions for named
 inside curley braces &quot;{name}&quot;. See the next section for a complete
 description of the syntax. Variable names are generally the IPP
 attribute names with the hyphen (&quot;-&quot;) replaced by the underscore (&quot;_&quot;)
 character.</P>
<H3><A NAME="5_1_1">5.1.1 What Are Templates?</A></H3>
<P>Templates are HTML files with special formatting characters in them
 that allow substition of variables and arrays.</P>
<BLOCKQUOTE><B> Note:</B> LIBCGI doesn't actually care if the template
 file is HTML or not. You can just as easily use a plain text file, XML
 file, or any other type of text file with the template code.</BLOCKQUOTE>
<H3><A NAME="5_1_2">5.1.2 How Do I Use a Template?</A></H3>
<P>LIBCGI provides a single template function called <CODE>
cgiCopyTemplateFile()</CODE>.</P>
<H3><A NAME="5_1_3">5.1.3 void cgiCopyTemplateFile(FILE *out, const char
 *filename)</A></H3>
<P>The <CODE>cgiCopyTemplateFile()</CODE> function copies the template
 file (<CODE>filename</CODE>) to the output file (<CODE>out</CODE>.)</P>
<P>The <CODE>out</CODE> argument is usually <CODE>stdout</CODE> for CGI
 programs, however you can write to any file or pipe with this function.</P>
<P>If <CODE>cgiCopyTemplateFile()</CODE> is unable to open the specified
 file then no output is produced.</P>
<H3><A NAME="5_1_4">5.1.4 Special Characters</A></H3>
<P>LIBCGI uses the curley braces (&quot;{&quot; and &quot;}&quot;) to indicate
 substitutions, and the backslash (&quot;\&quot;) character for quoting. To insert
 any of these special characters as-is you need to use the HTML <CODE>
&amp;name;</CODE> mechanism or prefix each special character with the
 backslash (&quot;\&quot;.)</P>
<H3><A NAME="5_1_5">5.1.5 Variable Substititions</A></H3>
<P>You substitute the value of a variable using <CODE>{NAME}</CODE> in
 your template file. If the variable is undefined then the <CODE>{NAME}</CODE>
 string is output as-is.</P>
<P>To substitute an empty string if the variable is undefined, use <CODE>
{?NAME}</CODE> instead.</P>
<H3><A NAME="5_1_6">5.1.6 Array Substitutions</A></H3>
<P>The number of array elements can be inserted using <CODE>{#NAME}</CODE>
. If the array is undefined then 0 is output. The current array element
 (starting at 1) is inserted with <CODE>{#}</CODE>.</P>
<P>Arrays are handled using <CODE>{[NAME]</CODE> at the beginning of a
 section and <CODE>}</CODE> at the end. The information between the
 closing bracket (&quot;]&quot;) and closing brace (&quot;}&quot;) is repeated for as many
 elements as are in the named array. For example, the following template
 would display an invoice for each item defined in the <CODE>ITEM</CODE>
 array:</P>
<UL>
<PRE>
&lt;TABLE&gt;
&lt;TR&gt;
	&lt;TH&gt;Quantity&lt;/TH&gt;
	&lt;TH&gt;Item&lt;/TH&gt;
	&lt;TH&gt;Price&lt;/TH&gt;
	&lt;TH&gt;Amount&lt;/TH&gt;
&lt;/TR&gt;

{[ITEM]
&lt;TR&gt;
	&lt;TD&gt;{?QUANTITY}&lt;/TD&gt;
	&lt;TD&gt;{?ITEM}&lt;/TD&gt;
	&lt;TD&gt;{?PRICE}&lt;/TD&gt;
	&lt;TD&gt;{?AMOUNT}&lt;/TD&gt;
&lt;/TR&gt;
}

&lt;TR&gt;
	&lt;TD COLSPAN=&quot;3&quot; ALIGN=&quot;RIGHT&quot;&gt;Total&lt;/TD&gt;
	&lt;TD&gt;{?TOTAL}&lt;/TD&gt;
&lt;/TR&gt;
&lt;/TABLE&gt;
</PRE>
</UL>
<P>Arrays can be nested, however all elements within the curley braces
 (&quot;{&quot; and &quot;}&quot;) are indexed using the innermost array.</P>
<H3><A NAME="5_1_7">5.1.7 Tests</A></H3>
<P>Templates can also test variables against specific values and
 conditionally include text in the template. The format is:</P>
<UL>
<PRE>
{<I>variable</I>?<I>true</I>:<I>false</I>}
{<I>variable</I>=<I>value</I>?<I>true</I>:<I>false</I>}
{<I>variable</I>!<I>value</I>?<I>true</I>:<I>false</I>}
{<I>variable</I>&lt;<I>value</I>?<I>true</I>:<I>false</I>}
{<I>variable</I>&gt;<I>value</I>?<I>true</I>:<I>false</I>}
</PRE>
</UL>
<P>where<VAR> true</VAR> is the text that is included if the condition
 is true and<VAR> false</VAR> is the text that is included if the
 condition is false. A value of <CODE>#</CODE> is replaced with the
 current element number (starting at 1.)</P>
<P>The character after the variable name specifies the condition to
 test:
<CENTER>
<TABLE BORDER="1">
<TR><TH WIDTH="5%">Char</TH><TH WIDTH="50%">Condition</TH></TR>
<TR><TD>?</TD><TD>True if<VAR> variable</VAR> exists.</TD></TR>
<TR><TD>=</TD><TD>True if<VAR> variable</VAR> is equal to<VAR> value</VAR>
.</TD></TR>
<TR><TD>!</TD><TD>True if<VAR> variable</VAR> is not equal to<VAR> value</VAR>
.</TD></TR>
<TR><TD>&lt;</TD><TD>True if<VAR> variable</VAR> is less than<VAR> value</VAR>
.</TD></TR>
<TR><TD>&gt;</TD><TD>True if<VAR> variable</VAR> is greater than<VAR> value</VAR>
.</TD></TR>
</TABLE>
</CENTER>
</P>
<H3><A NAME="5_1_8">5.1.8 Template Files</A></H3>
<P>The following template files are used by the web interface:</P>
<DL>
<DT>add-class.tmpl</DT>
<DD>This is the initial form that is shown to add a new printer class.</DD>
<DT>add-printer.tmpl</DT>
<DD>This is the initial form that is shown to add a new printer.</DD>
<DT>admin-op.tmpl</DT>
<DD>This is the template that is used to display an error message when
 the admin interface sees an undefined operation name.</DD>
<DT>admin.tmpl</DT>
<DD>This is the template that shows the initial menu of operations (add
 a class, manage classes, etc.)</DD>
<DT>choose-device.tmpl</DT>
<DD>This is the form that shows the list of available devices.</DD>
<DT>choose-make.tmpl</DT>
<DD>This is the form that shows the list of available manufacturers.</DD>
<DT>choose-members.tmpl</DT>
<DD>This is the form that shows the list of available printers that can
 be added to a class.</DD>
<DT>choose-model.tmpl</DT>
<DD>This is the form that shows the list of available printer
 models/drivers.</DD>
<DT>choose-serial.tmpl</DT>
<DD>This is the form that allows the user to choose a serial port and
 any options.</DD>
<DT>choose-uri.tmpl</DT>
<DD>This is the form that allows the user to enter a device URI for
 network printers.</DD>
<DT>class-added.tmpl</DT>
<DD>This template shows the &quot;class added&quot; message.</DD>
<DT>class-confirm.tmpl</DT>
<DD>This is the template used to confirm the deletion of a class.</DD>
<DT>class-deleted.tmpl</DT>
<DD>This template shows the &quot;class deleted&quot; message.</DD>
<DT>classes.tmpl</DT>
<DD>This template shows one or more printer classes.</DD>
<DT>class-modified.tmpl</DT>
<DD>This template shows the &quot;class modified&quot; message.</DD>
<DT>config-printer2.tmpl</DT>
<DD></DD>
<DT>config-printer.tmpl</DT>
<DD></DD>
<DT>error.tmpl</DT>
<DD></DD>
<DT>header.tmpl</DT>
<DD></DD>
<DT>job-cancel.tmpl</DT>
<DD></DD>
<DT>job-hold.tmpl</DT>
<DD></DD>
<DT>job-release.tmpl</DT>
<DD></DD>
<DT>job-restart.tmpl</DT>
<DD></DD>
<DT>jobs.tmpl</DT>
<DD></DD>
<DT>modify-class.tmpl</DT>
<DD></DD>
<DT>modify-printer.tmpl</DT>
<DD></DD>
<DT>option-boolean.tmpl</DT>
<DD></DD>
<DT>option-header.tmpl</DT>
<DD></DD>
<DT>option-pickmany.tmpl</DT>
<DD></DD>
<DT>option-pickone.tmpl</DT>
<DD></DD>
<DT>option-trailer.tmpl</DT>
<DD></DD>
<DT>printer-accept.tmpl</DT>
<DD></DD>
<DT>printer-added.tmpl</DT>
<DD></DD>
<DT>printer-configured.tmpl</DT>
<DD></DD>
<DT>printer-confirm.tmpl</DT>
<DD></DD>
<DT>printer-deleted.tmpl</DT>
<DD></DD>
<DT>printer-modified.tmpl</DT>
<DD></DD>
<DT>printer-reject.tmpl</DT>
<DD></DD>
<DT>printer-start.tmpl</DT>
<DD></DD>
<DT>printers.tmpl</DT>
<DD></DD>
<DT>printer-stop.tmpl</DT>
<DD></DD>
<DT>test-page.tmpl</DT>
<DD></DD>
<DT>trailer.tmpl</DT>
<DD></DD>
</DL>
<H1 TYPE="A" VALUE="1"><A NAME="6">A Glossary</A></H1>
<H2><A NAME="6_1">A.1 Terms</A></H2>
<DL>
<DT>C</DT>
<DD>A computer language.</DD>
<DT>parallel</DT>
<DD>Sending or receiving data more than 1 bit at a time.</DD>
<DT>pipe</DT>
<DD>A one-way communications channel between two programs.</DD>
<DT>serial</DT>
<DD>Sending or receiving data 1 bit at a time.</DD>
<DT>socket</DT>
<DD>A two-way network communications channel.</DD>
</DL>
<H2><A NAME="6_2">A.2 Acronyms</A></H2>
<DL>
<DT>ASCII</DT>
<DD>American Standard Code for Information Interchange</DD>
<DT>CUPS</DT>
<DD>Common UNIX Printing System</DD>
<DT>ESC/P</DT>
<DD>EPSON Standard Code for Printers</DD>
<DT>FTP</DT>
<DD>File Transfer Protocol</DD>
<DT>HP-GL</DT>
<DD>Hewlett-Packard Graphics Language</DD>
<DT>HP-PCL</DT>
<DD>Hewlett-Packard Page Control Language</DD>
<DT>HP-PJL</DT>
<DD>Hewlett-Packard Printer Job Language</DD>
<DT>IETF</DT>
<DD>Internet Engineering Task Force</DD>
<DT>IPP</DT>
<DD>Internet Printing Protocol</DD>
<DT>ISO</DT>
<DD>International Standards Organization</DD>
<DT>LPD</DT>
<DD>Line Printer Daemon</DD>
<DT>MIME</DT>
<DD>Multimedia Internet Mail Exchange</DD>
<DT>PPD</DT>
<DD>PostScript Printer Description</DD>
<DT>SMB</DT>
<DD>Server Message Block</DD>
<DT>TFTP</DT>
<DD>Trivial File Transfer Protocol</DD>
</DL>
</BODY>
</HTML>
